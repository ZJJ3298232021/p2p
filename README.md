# SOCKET编程实现Client/ Server程序
## 一、实验目的
1. 掌握Socket机制的工作原理；
2. 掌握Client/ Server结构软件的设计与开发方法；
3. 理解比特洪流（BitTorrent）P2P技术；
4. 能够针对实验任务，设计实验方案并予以实现。
## 二、实验要求
1. 使用VC++或其它开发工具，利用基本的套接字技术编写网络通信程序。
2. 实验前必须完成使用TCP协议的网络通信程序的调试执行。
3. 实验前必须精读比特洪流（BitTorrent）P2P技术相关资料。
4. 要求模拟比特洪流的分散传输技术实现文件的传输，实验前必须设计好实验方案。
5. 根据设计好的实验方案实现文件传输功能。
## 三、实验内容
使用基本的套接字编程技术，以一对基本的TCP协议通信程序为基础，模拟比特洪流（BitTorrent）的分散传输技术完成一个文件的正确传输，使用标准C语言编程。本实验的目的并不是做一个实用的网络程序，而是更好地理解套接字编程原理和P2P技术，重点在特定条件下的实验方案的设计并予以实现。

实验时4个人一组，实现从3个Peer传输同一个文件的不同块到一个Peer。尽可能模拟比特洪流（BitTorrent）技术，将文件划分成指定大小的很多块，理论上不同文件块可以从不同的Peer处下载，要求每个数据源Peer必须向目的Peer传输3个以上文件块，单个Peer传输的块数也不要太多，以免产生太多网络数据块，不利于下一个实验进行数据收集。
建议传输一个图形文件，最终文件内容传输正确是第一位的，图形文件容易验证。

BitTorrent协议是一种P2P技术，属于应用层协议，其主要内容可以结合参看理论课教材上的相关内容，在实现文件传输时主要聚焦在多个Peer向一个Peer传输文件，围绕这个核心功能展开实验方案的设计。

实验方案可以包括但不限于这样一些内容：方案中需不需要设置一台计算机做追踪器Tracker、如果不设置Tracker怎样找到有指定文件的Peer、需不需要定义.torrent文件、如果不定义.torrent文件该怎样设计类似的功能、文件传输时块大小设定、4个Peer之间通过怎样的详细流程最终完成文件的传输等。

## 实现方案
每个`peer`都能发送和接收数据，启动时自动向`tracker`注册，可以添加资源给`tracker`记录，也就是让服务器知道这个资源哪个`Peer`有，然后现在有四个`Peer`，三个`Peer`的`files`文件夹下有一个叫做`example.jpg`的文件，第四个没有，也就是说前三个`peer`需要向服务器发送添加资源的请求将`files`下的所有文件添加到`tracker`，同时生成`torrent`文件，第四个`Peer`需要根据`torrent`文件获取这个图片，torrent文件包含`tracker`地址端口，哈希值，分块数。

>实际上Peer即能作为下载方也能作为传送方，这里只需要将peer4+peer1即可得到一个功能完整的Peer
